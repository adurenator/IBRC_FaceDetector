
function dets = ScanImageFixedSize(Cparams, im)

    % detect whether the image is grayscale
    if ndim(im) > 2
        im = rgb2gray(im);
    end
    
    % Normalize the image
    im = (im - mean(im(:))) / (std(image(:)) + (10^-12));
    
    % Integral image
    ii_im = cumsum(cumsum(im, 1), 2);
    
    % Sub-window size
    L = 19;
    
    % sub-wimdows index limits
    row = size(ii_im, 1) - (L - 1);
    col = size(ii_im, 2) - (L - 1);
    
    % Checking all sub-windows
    for i = 1:row,
        for j = 1:col,
            
            sc = ApplyDetector2(Cparams, ii_im, col, row);
            if sc > Cparams.thresh
                detection = [col row L L];
                dets = [dets; detection];
            end
            
        end 
    end

end